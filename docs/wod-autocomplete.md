# WOD Syntax Autocomplete

## Overview

Minimal autocomplete implementation for exercise names in the WOD syntax editor. **Updated to use inline JSON for better performance.**

## How It Works

### 1. Data Source
- **Approach**: Exercise names are embedded directly in the page as `window.exerciseNames`
- **Performance**: No Ajax call needed - data available immediately on page load
- **Source**: Generated by `WorkoutController` and passed to the view

### 2. JavaScript Implementation
- Uses inline exercise names from `window.exerciseNames`
- Triggers when typing inside brackets `[` or `[[`
- Shows dropdown with matching exercises (max 10)
- Filters by substring match (case-insensitive)

### 3. User Experience
- Type `[[Back` → shows "Back Squat", "Back Extension", etc.
- Arrow keys to navigate
- Enter to select
- Escape to close
- Click to select
- Auto-hides when typing outside brackets

### 4. Styling
- Dark theme matching editor
- Positioned below cursor
- Scrollable list
- Hover highlighting

## Files Modified

1. **app/Http/Controllers/WorkoutController.php** (updated)
   - Added `getExerciseNames()` helper method
   - Modified `create()` and `edit()` methods to include exercise data in view
   - Exercise names passed as `exerciseNames` in view data

2. **resources/views/mobile-entry/flexible.blade.php** (updated)
   - Added `window.exerciseNames` to JavaScript configuration
   - Exercise names available immediately without Ajax call

3. **public/js/mobile-entry/components/code-editor-autocomplete.js** (updated)
   - Now uses only `window.exerciseNames` for data
   - Removed API fallback code
   - Simplified and more reliable

4. **routes/web.php** (updated)
   - Removed API route for exercise autocomplete
   - Cleaner routing with no unused endpoints

## Performance Benefits

**Before**: Ajax call on every page load
- Extra HTTP request
- Delay before autocomplete works
- Network dependency

**After**: Inline JSON in page
- No extra HTTP request
- Autocomplete works immediately
- Better user experience
- Reduced server load
- Simplified codebase

## Complexity

**LOW** - Clean, simple implementation:
- Single data source (inline JSON)
- No network dependencies
- Immediate availability
- Minimal code footprint

## Future Enhancements

- Fuzzy matching (e.g., "bsq" → "Back Squat")
- Show exercise type icons
- Recently used exercises at top
- Cache exercise list in localStorage for other pages
- Debounce API calls if list is large
